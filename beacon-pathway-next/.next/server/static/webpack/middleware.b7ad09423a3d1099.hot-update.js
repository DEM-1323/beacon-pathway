"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("middleware",{

/***/ "(middleware)/./src/lib/utils/supabase/middleware.ts":
/*!**********************************************!*\
  !*** ./src/lib/utils/supabase/middleware.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   updateSession: () => (/* binding */ updateSession)\n/* harmony export */ });\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/ssr */ \"(middleware)/./node_modules/@supabase/ssr/dist/module/index.js\");\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/server */ \"(middleware)/./node_modules/next/dist/esm/api/server.js\");\n\n\nasync function updateSession(request) {\n    // Skip middleware for auth callback paths\n    if (request.nextUrl.pathname.startsWith(\"/auth/callback\") || request.nextUrl.pathname.startsWith(\"/auth/confirm\")) {\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.next();\n    }\n    let supabaseResponse = next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.next({\n        request: {\n            headers: request.headers\n        }\n    });\n    const supabase = (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__.createServerClient)(\"https://rqdfthnxrusonnldjjal.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJxZGZ0aG54cnVzb25ubGRqamFsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU4NjYwMjcsImV4cCI6MjA2MTQ0MjAyN30.DE0z-Zn5ufUdX_BgBCk7AnbUR1l6Gl1TEkYn15YaCGY\", {\n        cookies: {\n            getAll () {\n                return request.cookies.getAll();\n            },\n            setAll (cookiesToSet) {\n                cookiesToSet.forEach(({ name, value, options })=>request.cookies.set(name, value));\n                supabaseResponse = next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.next({\n                    request\n                });\n                cookiesToSet.forEach(({ name, value, options })=>supabaseResponse.cookies.set(name, value, options));\n            }\n        }\n    });\n    // Do not run code between createServerClient and\n    // supabase.auth.getUser(). A simple mistake could make it very hard to debug\n    // issues with users being randomly logged out.\n    // IMPORTANT: DO NOT REMOVE auth.getUser()\n    const { data: { user } } = await supabase.auth.getUser();\n    // Allow access to login page and auth routes regardless of user status\n    const isAuthRoute = request.nextUrl.pathname.startsWith(\"/login\") || request.nextUrl.pathname.startsWith(\"/auth\") || request.nextUrl.pathname === \"/\";\n    if (!user && !isAuthRoute) {\n        // No user and trying to access a protected route, redirect to login\n        const redirectUrl = request.nextUrl.clone();\n        redirectUrl.pathname = \"/login\";\n        // Store the original URL as a search param so we can redirect back after login\n        redirectUrl.searchParams.set(\"next\", request.nextUrl.pathname);\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.redirect(redirectUrl);\n    }\n    // User exists but is on login page or auth route, redirect to dashboard\n    if (user && isAuthRoute && request.nextUrl.pathname !== \"/auth/callback\") {\n        const redirectUrl = request.nextUrl.clone();\n        redirectUrl.pathname = \"/dashboard\";\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.redirect(redirectUrl);\n    }\n    return supabaseResponse;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vc3JjL2xpYi91dGlscy9zdXBhYmFzZS9taWRkbGV3YXJlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFtRDtBQUNVO0FBRXRELGVBQWVFLGNBQWNDLE9BQW9CO0lBQ3RELDBDQUEwQztJQUMxQyxJQUNFQSxRQUFRQyxPQUFPLENBQUNDLFFBQVEsQ0FBQ0MsVUFBVSxDQUFDLHFCQUNwQ0gsUUFBUUMsT0FBTyxDQUFDQyxRQUFRLENBQUNDLFVBQVUsQ0FBQyxrQkFDcEM7UUFDQSxPQUFPTCxxREFBWUEsQ0FBQ00sSUFBSTtJQUMxQjtJQUVBLElBQUlDLG1CQUFtQlAscURBQVlBLENBQUNNLElBQUksQ0FBQztRQUN2Q0osU0FBUztZQUNQTSxTQUFTTixRQUFRTSxPQUFPO1FBQzFCO0lBQ0Y7SUFFQSxNQUFNQyxXQUFXVixpRUFBa0JBLENBQ2pDVywwQ0FBb0MsRUFDcENBLGtOQUF5QyxFQUN6QztRQUNFSSxTQUFTO1lBQ1BDO2dCQUNFLE9BQU9iLFFBQVFZLE9BQU8sQ0FBQ0MsTUFBTTtZQUMvQjtZQUNBQyxRQUFPQyxZQUFZO2dCQUNqQkEsYUFBYUMsT0FBTyxDQUFDLENBQUMsRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUVDLE9BQU8sRUFBRSxHQUM1Q25CLFFBQVFZLE9BQU8sQ0FBQ1EsR0FBRyxDQUFDSCxNQUFNQztnQkFFNUJiLG1CQUFtQlAscURBQVlBLENBQUNNLElBQUksQ0FBQztvQkFDbkNKO2dCQUNGO2dCQUNBZSxhQUFhQyxPQUFPLENBQUMsQ0FBQyxFQUFFQyxJQUFJLEVBQUVDLEtBQUssRUFBRUMsT0FBTyxFQUFFLEdBQzVDZCxpQkFBaUJPLE9BQU8sQ0FBQ1EsR0FBRyxDQUFDSCxNQUFNQyxPQUFPQztZQUU5QztRQUNGO0lBQ0Y7SUFHRixpREFBaUQ7SUFDakQsNkVBQTZFO0lBQzdFLCtDQUErQztJQUUvQywwQ0FBMEM7SUFFMUMsTUFBTSxFQUNKRSxNQUFNLEVBQUVDLElBQUksRUFBRSxFQUNmLEdBQUcsTUFBTWYsU0FBU2dCLElBQUksQ0FBQ0MsT0FBTztJQUUvQix1RUFBdUU7SUFDdkUsTUFBTUMsY0FDSnpCLFFBQVFDLE9BQU8sQ0FBQ0MsUUFBUSxDQUFDQyxVQUFVLENBQUMsYUFDcENILFFBQVFDLE9BQU8sQ0FBQ0MsUUFBUSxDQUFDQyxVQUFVLENBQUMsWUFDcENILFFBQVFDLE9BQU8sQ0FBQ0MsUUFBUSxLQUFLO0lBRS9CLElBQUksQ0FBQ29CLFFBQVEsQ0FBQ0csYUFBYTtRQUN6QixvRUFBb0U7UUFDcEUsTUFBTUMsY0FBYzFCLFFBQVFDLE9BQU8sQ0FBQzBCLEtBQUs7UUFDekNELFlBQVl4QixRQUFRLEdBQUc7UUFDdkIsK0VBQStFO1FBQy9Fd0IsWUFBWUUsWUFBWSxDQUFDUixHQUFHLENBQUMsUUFBUXBCLFFBQVFDLE9BQU8sQ0FBQ0MsUUFBUTtRQUM3RCxPQUFPSixxREFBWUEsQ0FBQytCLFFBQVEsQ0FBQ0g7SUFDL0I7SUFFQSx3RUFBd0U7SUFDeEUsSUFBSUosUUFBUUcsZUFBZXpCLFFBQVFDLE9BQU8sQ0FBQ0MsUUFBUSxLQUFLLGtCQUFrQjtRQUN4RSxNQUFNd0IsY0FBYzFCLFFBQVFDLE9BQU8sQ0FBQzBCLEtBQUs7UUFDekNELFlBQVl4QixRQUFRLEdBQUc7UUFDdkIsT0FBT0oscURBQVlBLENBQUMrQixRQUFRLENBQUNIO0lBQy9CO0lBRUEsT0FBT3JCO0FBQ1QiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcRGF2aWQuTWFydGluZXowMDNcXE9uZURyaXZlIC0gVW5pdmVyc2l0eSBvZiBNYXNzYWNodXNldHRzIEJvc3RvblxcRG9jdW1lbnRzXFxQZXJzb25hbCBQcm9qZWN0c1xcQmVhY29uUGF0aHdheVxcYmVhY29uLXBhdGh3YXlcXGJlYWNvbi1wYXRod2F5LW5leHRcXHNyY1xcbGliXFx1dGlsc1xcc3VwYWJhc2VcXG1pZGRsZXdhcmUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlU2VydmVyQ2xpZW50IH0gZnJvbSBcIkBzdXBhYmFzZS9zc3JcIjtcbmltcG9ydCB7IE5leHRSZXNwb25zZSwgdHlwZSBOZXh0UmVxdWVzdCB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlU2Vzc2lvbihyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICAvLyBTa2lwIG1pZGRsZXdhcmUgZm9yIGF1dGggY2FsbGJhY2sgcGF0aHNcbiAgaWYgKFxuICAgIHJlcXVlc3QubmV4dFVybC5wYXRobmFtZS5zdGFydHNXaXRoKFwiL2F1dGgvY2FsbGJhY2tcIikgfHxcbiAgICByZXF1ZXN0Lm5leHRVcmwucGF0aG5hbWUuc3RhcnRzV2l0aChcIi9hdXRoL2NvbmZpcm1cIilcbiAgKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5uZXh0KCk7XG4gIH1cblxuICBsZXQgc3VwYWJhc2VSZXNwb25zZSA9IE5leHRSZXNwb25zZS5uZXh0KHtcbiAgICByZXF1ZXN0OiB7XG4gICAgICBoZWFkZXJzOiByZXF1ZXN0LmhlYWRlcnMsXG4gICAgfSxcbiAgfSk7XG5cbiAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVTZXJ2ZXJDbGllbnQoXG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcbiAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSEsXG4gICAge1xuICAgICAgY29va2llczoge1xuICAgICAgICBnZXRBbGwoKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcXVlc3QuY29va2llcy5nZXRBbGwoKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0QWxsKGNvb2tpZXNUb1NldCkge1xuICAgICAgICAgIGNvb2tpZXNUb1NldC5mb3JFYWNoKCh7IG5hbWUsIHZhbHVlLCBvcHRpb25zIH0pID0+XG4gICAgICAgICAgICByZXF1ZXN0LmNvb2tpZXMuc2V0KG5hbWUsIHZhbHVlKVxuICAgICAgICAgICk7XG4gICAgICAgICAgc3VwYWJhc2VSZXNwb25zZSA9IE5leHRSZXNwb25zZS5uZXh0KHtcbiAgICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29va2llc1RvU2V0LmZvckVhY2goKHsgbmFtZSwgdmFsdWUsIG9wdGlvbnMgfSkgPT5cbiAgICAgICAgICAgIHN1cGFiYXNlUmVzcG9uc2UuY29va2llcy5zZXQobmFtZSwgdmFsdWUsIG9wdGlvbnMpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfVxuICApO1xuXG4gIC8vIERvIG5vdCBydW4gY29kZSBiZXR3ZWVuIGNyZWF0ZVNlcnZlckNsaWVudCBhbmRcbiAgLy8gc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCkuIEEgc2ltcGxlIG1pc3Rha2UgY291bGQgbWFrZSBpdCB2ZXJ5IGhhcmQgdG8gZGVidWdcbiAgLy8gaXNzdWVzIHdpdGggdXNlcnMgYmVpbmcgcmFuZG9tbHkgbG9nZ2VkIG91dC5cblxuICAvLyBJTVBPUlRBTlQ6IERPIE5PVCBSRU1PVkUgYXV0aC5nZXRVc2VyKClcblxuICBjb25zdCB7XG4gICAgZGF0YTogeyB1c2VyIH0sXG4gIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblxuICAvLyBBbGxvdyBhY2Nlc3MgdG8gbG9naW4gcGFnZSBhbmQgYXV0aCByb3V0ZXMgcmVnYXJkbGVzcyBvZiB1c2VyIHN0YXR1c1xuICBjb25zdCBpc0F1dGhSb3V0ZSA9XG4gICAgcmVxdWVzdC5uZXh0VXJsLnBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvbG9naW5cIikgfHxcbiAgICByZXF1ZXN0Lm5leHRVcmwucGF0aG5hbWUuc3RhcnRzV2l0aChcIi9hdXRoXCIpIHx8XG4gICAgcmVxdWVzdC5uZXh0VXJsLnBhdGhuYW1lID09PSBcIi9cIjtcblxuICBpZiAoIXVzZXIgJiYgIWlzQXV0aFJvdXRlKSB7XG4gICAgLy8gTm8gdXNlciBhbmQgdHJ5aW5nIHRvIGFjY2VzcyBhIHByb3RlY3RlZCByb3V0ZSwgcmVkaXJlY3QgdG8gbG9naW5cbiAgICBjb25zdCByZWRpcmVjdFVybCA9IHJlcXVlc3QubmV4dFVybC5jbG9uZSgpO1xuICAgIHJlZGlyZWN0VXJsLnBhdGhuYW1lID0gXCIvbG9naW5cIjtcbiAgICAvLyBTdG9yZSB0aGUgb3JpZ2luYWwgVVJMIGFzIGEgc2VhcmNoIHBhcmFtIHNvIHdlIGNhbiByZWRpcmVjdCBiYWNrIGFmdGVyIGxvZ2luXG4gICAgcmVkaXJlY3RVcmwuc2VhcmNoUGFyYW1zLnNldChcIm5leHRcIiwgcmVxdWVzdC5uZXh0VXJsLnBhdGhuYW1lKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLnJlZGlyZWN0KHJlZGlyZWN0VXJsKTtcbiAgfVxuXG4gIC8vIFVzZXIgZXhpc3RzIGJ1dCBpcyBvbiBsb2dpbiBwYWdlIG9yIGF1dGggcm91dGUsIHJlZGlyZWN0IHRvIGRhc2hib2FyZFxuICBpZiAodXNlciAmJiBpc0F1dGhSb3V0ZSAmJiByZXF1ZXN0Lm5leHRVcmwucGF0aG5hbWUgIT09IFwiL2F1dGgvY2FsbGJhY2tcIikge1xuICAgIGNvbnN0IHJlZGlyZWN0VXJsID0gcmVxdWVzdC5uZXh0VXJsLmNsb25lKCk7XG4gICAgcmVkaXJlY3RVcmwucGF0aG5hbWUgPSBcIi9kYXNoYm9hcmRcIjtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLnJlZGlyZWN0KHJlZGlyZWN0VXJsKTtcbiAgfVxuXG4gIHJldHVybiBzdXBhYmFzZVJlc3BvbnNlO1xufVxuIl0sIm5hbWVzIjpbImNyZWF0ZVNlcnZlckNsaWVudCIsIk5leHRSZXNwb25zZSIsInVwZGF0ZVNlc3Npb24iLCJyZXF1ZXN0IiwibmV4dFVybCIsInBhdGhuYW1lIiwic3RhcnRzV2l0aCIsIm5leHQiLCJzdXBhYmFzZVJlc3BvbnNlIiwiaGVhZGVycyIsInN1cGFiYXNlIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwiY29va2llcyIsImdldEFsbCIsInNldEFsbCIsImNvb2tpZXNUb1NldCIsImZvckVhY2giLCJuYW1lIiwidmFsdWUiLCJvcHRpb25zIiwic2V0IiwiZGF0YSIsInVzZXIiLCJhdXRoIiwiZ2V0VXNlciIsImlzQXV0aFJvdXRlIiwicmVkaXJlY3RVcmwiLCJjbG9uZSIsInNlYXJjaFBhcmFtcyIsInJlZGlyZWN0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./src/lib/utils/supabase/middleware.ts\n");

/***/ })

});